<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="page">
        <form id="app" action="https://www.example.org">
        <label for="username">Username<input type="text" name="username" id="username" placeholder="Inserisci il tuo username"></label><br>
        <label for="comment">Commento<input type="text" name="comment" id="comment" placeholder="Inserisci un commento"></label>
        <input type="submit" value="Commenta">
        </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
    <script type="text/javascript">
        //LOCAL
        if (Modernizr.localstorage) {
            var user = document.getElementById('username');
            var comm = document.getElementById('comment');

            user.value = localStorage.getItem('username');
            comm.value = localStorage.getItem('comment');

            user.addEventListener('input', function() {
                localStorage.setItem('username', user.value);
            }, false);

            comm.addEventListener('input', function() {
                localStorage.setItem('comment', comm.value);
            }, false);
        }

        //TEST SUPPORTO
        function isSupportato() {
            try {
                localStorage.setItem('test', 'Hello Local');
                sessionStorage.setItem('loggedIn', true);
                return true;
            } catch (error) {
                return false;
            }
        }

        if (isSupportato()) {
            console.log("I local e session sono supportati");
        }

        //Controllo su utente loggato
        // sessionStorage.removeItem
        (sessionStorage.loggedIn) ? console.log("Sei loggato") : console.log("Sei offline");;
    </script>
</body>

</html>